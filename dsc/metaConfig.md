---
ms.date: 2017-06-12
author: eslesar
ms.topic: conceptual
keywords: "dsc,powershell,配置,安装程序"
title: "配置本地配置管理器"
ms.openlocfilehash: 315b487e7b31c259c4c08e453b69d4548494ccd2
ms.sourcegitcommit: fee03bb9802222078c8d5f6c8efb0698024406ed
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/26/2017
---
# <a name="configuring-the-local-configuration-manager"></a><span data-ttu-id="a8259-103">配置本地配置管理器</span><span class="sxs-lookup"><span data-stu-id="a8259-103">Configuring the Local Configuration Manager</span></span>

> <span data-ttu-id="a8259-104">适用于：Windows PowerShell 5.0</span><span class="sxs-lookup"><span data-stu-id="a8259-104">Applies To: Windows PowerShell 5.0</span></span>

<span data-ttu-id="a8259-105">本地配置管理器 (LCM) 是 Windows PowerShell Desired State Configuration (DSC) 的引擎。</span><span class="sxs-lookup"><span data-stu-id="a8259-105">The Local Configuration Manager (LCM) is the engine of Windows PowerShell Desired State Configuration (DSC).</span></span> <span data-ttu-id="a8259-106">LCM 在每个目标节点上运行，负责分析和执行发送到节点的配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-106">The LCM runs on every target node, and is responsible for parsing and enacting configurations that are sent to the node.</span></span> <span data-ttu-id="a8259-107">它还负责 DSC 的许多方面，包括以下各方面。</span><span class="sxs-lookup"><span data-stu-id="a8259-107">It is also responsible for a number of other aspects of DSC, including the following.</span></span>

* <span data-ttu-id="a8259-108">确定刷新模式（推送或请求）。</span><span class="sxs-lookup"><span data-stu-id="a8259-108">Determining refresh mode (push or pull).</span></span>
* <span data-ttu-id="a8259-109">指定节点请求和执行配置的频率。</span><span class="sxs-lookup"><span data-stu-id="a8259-109">Specifying how often a node pulls and enacts configurations.</span></span>
* <span data-ttu-id="a8259-110">将节点与请求服务器相关联。</span><span class="sxs-lookup"><span data-stu-id="a8259-110">Associating the node with pull servers.</span></span>
* <span data-ttu-id="a8259-111">指定部分配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-111">Specifying partial configurations.</span></span>

<span data-ttu-id="a8259-112">使用特殊类型的配置将 LCM 配置为指定以上各行为。</span><span class="sxs-lookup"><span data-stu-id="a8259-112">You use a special type of configuration to configure the LCM to specify each of these behaviors.</span></span> <span data-ttu-id="a8259-113">以下各节介绍如何配置 LCM。</span><span class="sxs-lookup"><span data-stu-id="a8259-113">The following sections describe how to configure the LCM.</span></span>

> <span data-ttu-id="a8259-114">**注意**：本主题适用于 Windows PowerShell 5.0 中引入的 LCM。</span><span class="sxs-lookup"><span data-stu-id="a8259-114">**Note**: This topic applies to the LCM introduced in Windows PowerShell 5.0.</span></span> <span data-ttu-id="a8259-115">有关在 Windows PowerShell 4.0 中配置 LCM 的信息，请参阅 [Windows PowerShell 4.0 Desired State Configuration 本地配置管理器](metaconfig4.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-115">For information about configuring the LCM in Windows PowerShell 4.0, see [Windows PowerShell 4.0 Desired State Configuration Local Configuration Manager](metaconfig4.md).</span></span>

## <a name="writing-and-enacting-an-lcm-configuration"></a><span data-ttu-id="a8259-116">编写和执行 LCM 配置</span><span class="sxs-lookup"><span data-stu-id="a8259-116">Writing and enacting an LCM configuration</span></span>

<span data-ttu-id="a8259-117">若要配置 LCM，你需要创建并运行特殊类型的配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-117">To configure the LCM, you create and run a special type of configuration.</span></span> <span data-ttu-id="a8259-118">若要指定 LCM 配置，你可以使用 DscLocalConfigurationManager 特性。</span><span class="sxs-lookup"><span data-stu-id="a8259-118">To specify an LCM configuration, you use the DscLocalConfigurationManager attribute.</span></span> <span data-ttu-id="a8259-119">下面演示将 LCM 设置为推送模式的简单配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-119">The following shows a simple configuration that sets the LCM to push mode.</span></span>

```powershell
[DSCLocalConfigurationManager()]
configuration LCMConfig
{
    Node localhost
    {
        Settings
        {
            RefreshMode = 'Push'
        }
    }
} 
```

<span data-ttu-id="a8259-120">调用和运行配置来创建配置 MOF，与常规配置类似（有关创建配置 MOF 的信息，请参阅[编译配置](configurations.md#compiling-the-configuration)）。</span><span class="sxs-lookup"><span data-stu-id="a8259-120">You call and run the configuration to create the configuration MOF, just as you would a normal configuration (for information on creating the configuration MOF, see [Compiling the configuration](configurations.md#compiling-the-configuration)).</span></span> <span data-ttu-id="a8259-121">与常规配置不同的是，不通过调用 [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx) cmdlet 来执行 LCM 配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-121">Unlike normal configurations, you do not enact an LCM configuration by calling the [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx) cmdlet.</span></span> <span data-ttu-id="a8259-122">而是通过调用 [Set-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn521621.aspx) cmdlet，将路径作为参数提供给配置 MOF。</span><span class="sxs-lookup"><span data-stu-id="a8259-122">Instead, you call the [Set-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn521621.aspx) cmdlet, supplying the path to the configuration MOF as a parameter.</span></span> <span data-ttu-id="a8259-123">执行配置后，可以通过调用 [Get-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn407378.aspx) cmdlet 查看 LCM 的属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-123">After you enact the configuration, you can see the properties of the LCM by calling the [Get-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn407378.aspx) cmdlet.</span></span>

<span data-ttu-id="a8259-124">LCM 配置只能包含有限组资源的块。</span><span class="sxs-lookup"><span data-stu-id="a8259-124">An LCM configuration can contain blocks only for a limited set of resources.</span></span> <span data-ttu-id="a8259-125">在上面的示例中，调用的唯一资源名为 **Settings**。</span><span class="sxs-lookup"><span data-stu-id="a8259-125">In the previous example, the only resource called is **Settings**.</span></span> <span data-ttu-id="a8259-126">其他可用资源有：</span><span class="sxs-lookup"><span data-stu-id="a8259-126">The other available resources are:</span></span>

* <span data-ttu-id="a8259-127">**ConfigurationRepositoryWeb**：指定用于配置的 HTTP 请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-127">**ConfigurationRepositoryWeb**: specifies an HTTP pull server for configurations.</span></span> 
* <span data-ttu-id="a8259-128">**ConfigurationRepositoryShare**：指定用于配置的 SMB 请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-128">**ConfigurationRepositoryShare**: specifies an SMB pull server for configurations.</span></span>
* <span data-ttu-id="a8259-129">**ResourceRepositoryWeb**：指定用于模块的 HTTP 请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-129">**ResourceRepositoryWeb**: specifies an HTTP pull server for modules.</span></span>
* <span data-ttu-id="a8259-130">**ResourceRepositoryShare**：指定用于模块的 SMB 请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-130">**ResourceRepositoryShare**: specifies an SMB pull server for modules.</span></span>
* <span data-ttu-id="a8259-131">**ReportServerWeb**：指定将报告发送到的 HTTP 请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-131">**ReportServerWeb**: specifies an HTTP pull server to which reports are sent.</span></span>
* <span data-ttu-id="a8259-132">**PartialConfiguration**：指定部分配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-132">**PartialConfiguration**: specifies partial configurations.</span></span>

## <a name="basic-settings"></a><span data-ttu-id="a8259-133">基本设置</span><span class="sxs-lookup"><span data-stu-id="a8259-133">Basic settings</span></span>

<span data-ttu-id="a8259-134">不通过指定请求服务器和部分配置 LCM 的所有属性，而是在 **Settings** 块中进行配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-134">Other than specifying pull servers and partial configurations, all of the properties of the LCM are configured in a **Settings** block.</span></span> <span data-ttu-id="a8259-135">**Settings** 块中提供下列属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-135">The following properties are available in a **Settings** block.</span></span>

|  <span data-ttu-id="a8259-136">属性</span><span class="sxs-lookup"><span data-stu-id="a8259-136">Property</span></span>  |  <span data-ttu-id="a8259-137">类型</span><span class="sxs-lookup"><span data-stu-id="a8259-137">Type</span></span>  |  <span data-ttu-id="a8259-138">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-138">Description</span></span>   | 
|----------- |------- |--------------- | 
| <span data-ttu-id="a8259-139">ConfigurationModeFrequencyMins</span><span class="sxs-lookup"><span data-stu-id="a8259-139">ConfigurationModeFrequencyMins</span></span>| <span data-ttu-id="a8259-140">UInt32</span><span class="sxs-lookup"><span data-stu-id="a8259-140">UInt32</span></span>| <span data-ttu-id="a8259-141">检查和应用当前配置的时间间隔（以分钟为单位）。</span><span class="sxs-lookup"><span data-stu-id="a8259-141">How often, in minutes, the current configuration is checked and applied.</span></span> <span data-ttu-id="a8259-142">如果将 ConfigurationMode 属性设置为 ApplyOnly，则将忽略此属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-142">This property is ignored if the ConfigurationMode property is set to ApplyOnly.</span></span> <span data-ttu-id="a8259-143">默认值为 15。</span><span class="sxs-lookup"><span data-stu-id="a8259-143">The default value is 15.</span></span>| 
| <span data-ttu-id="a8259-144">RebootNodeIfNeeded</span><span class="sxs-lookup"><span data-stu-id="a8259-144">RebootNodeIfNeeded</span></span>| <span data-ttu-id="a8259-145">布尔</span><span class="sxs-lookup"><span data-stu-id="a8259-145">bool</span></span>| <span data-ttu-id="a8259-146">将此设置为 __$true__，可在应用要求重启的设置后自动重启节点。</span><span class="sxs-lookup"><span data-stu-id="a8259-146">Set this to __$true__ to automatically reboot the node after a configuration that requires reboot is applied.</span></span> <span data-ttu-id="a8259-147">否则，你必须为要求重启的配置手动重启节点。</span><span class="sxs-lookup"><span data-stu-id="a8259-147">Otherwise, you will have to manually reboot the node for any configuration that requires it.</span></span> <span data-ttu-id="a8259-148">默认值为 __$false__。</span><span class="sxs-lookup"><span data-stu-id="a8259-148">The default value is __$false__.</span></span>| 
| <span data-ttu-id="a8259-149">ConfigurationMode</span><span class="sxs-lookup"><span data-stu-id="a8259-149">ConfigurationMode</span></span>| <span data-ttu-id="a8259-150">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-150">string</span></span> | <span data-ttu-id="a8259-151">指定 LCM 实际如何将配置应用到目标节点。</span><span class="sxs-lookup"><span data-stu-id="a8259-151">Specifies how the LCM actually applies the configuration to the target nodes.</span></span> <span data-ttu-id="a8259-152">可取值为 __ApplyOnly__、__ApplyandMonitior__ 和 __ApplyandAutoCorrect__。</span><span class="sxs-lookup"><span data-stu-id="a8259-152">Possible values are __"ApplyOnly"__,__"ApplyandMonitior"__, and __"ApplyandAutoCorrect"__.</span></span> <ul><li><span data-ttu-id="a8259-153">__ApplyOnly__：DSC 将应用配置，但若未向目标节点推送新配置或从服务器请求新配置，则它不会执行任何进一步操作。</span><span class="sxs-lookup"><span data-stu-id="a8259-153">__ApplyOnly__: DSC applies the configuration and does nothing further unless a new configuration is pushed to the target node or when a new configuration is pulled from a server.</span></span> <span data-ttu-id="a8259-154">首次应用新配置后，DSC 不会检查是否偏离以前配置的状态。</span><span class="sxs-lookup"><span data-stu-id="a8259-154">After initial application of a new configuration, DSC does not check for drift from a previously configured state.</span></span> <span data-ttu-id="a8259-155">请注意，__ApplyOnly__ 生效前，DSC 将尝试应用配置，直到成功为止。</span><span class="sxs-lookup"><span data-stu-id="a8259-155">Note that DSC will attempt to apply the configuration until it is successful before __ApplyOnly__ takes effect.</span></span> </li><li> <span data-ttu-id="a8259-156">__ApplyAndMonitor__：这是默认值。</span><span class="sxs-lookup"><span data-stu-id="a8259-156">__ApplyAndMonitor__: This is the default value.</span></span> <span data-ttu-id="a8259-157">LCM 将应用任意新配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-157">The LCM applies any new configurations.</span></span> <span data-ttu-id="a8259-158">首次应用新配置后，如果目标节点偏离期望状态，则 DSC 将在日志中报告差异。</span><span class="sxs-lookup"><span data-stu-id="a8259-158">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="a8259-159">请注意，__ApplyAndMonitor__ 生效前，DSC 将尝试应用配置，直到成功为止。</span><span class="sxs-lookup"><span data-stu-id="a8259-159">Note that DSC will attempt to apply the configuration until it is successful before __ApplyAndMonitor__ takes effect.</span></span></li><li><span data-ttu-id="a8259-160">__ApplyAndAutoCorrect__：DSC 将应用任何新配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-160">__ApplyAndAutoCorrect__: DSC applies any new configurations.</span></span> <span data-ttu-id="a8259-161">首次应用新配置后，如果目标节点偏离适当状态，则 DSC 将在日志中报告差异然后重新应用当前配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-161">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs, and then re-applies the current configuration.</span></span></li></ul>| 
| <span data-ttu-id="a8259-162">ActionAfterReboot</span><span class="sxs-lookup"><span data-stu-id="a8259-162">ActionAfterReboot</span></span>| <span data-ttu-id="a8259-163">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-163">string</span></span>| <span data-ttu-id="a8259-164">指定在应用配置期间重启后进行什么操作。</span><span class="sxs-lookup"><span data-stu-id="a8259-164">Specifies what happens after a reboot during the application of a configuration.</span></span> <span data-ttu-id="a8259-165">可取值为 __ContinueConfiguration__ 和 __StopConfiguration__。</span><span class="sxs-lookup"><span data-stu-id="a8259-165">The possible values are __"ContinueConfiguration"__ and __"StopConfiguration"__.</span></span> <ul><li> <span data-ttu-id="a8259-166">__ContinueConfiguration__：在计算机重新启动后继续应用当前配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-166">__ContinueConfiguration__: Continue applying the current configuration after machine reboot.</span></span> <span data-ttu-id="a8259-167">此为默认值</span><span class="sxs-lookup"><span data-stu-id="a8259-167">This is the default falue</span></span></li><li><span data-ttu-id="a8259-168">__StopConfiguration__：在计算机重新启动后停止当前配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-168">__StopConfiguration__: Stop the current configuration after machine reboot.</span></span></li></ul>| 
| <span data-ttu-id="a8259-169">RefreshMode</span><span class="sxs-lookup"><span data-stu-id="a8259-169">RefreshMode</span></span>| <span data-ttu-id="a8259-170">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-170">string</span></span>| <span data-ttu-id="a8259-171">指定 LCM 如何获取配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-171">Specifies how the LCM gets configurations.</span></span> <span data-ttu-id="a8259-172">可取值为 __Disabled__、__Push__ 和 __Pull__。</span><span class="sxs-lookup"><span data-stu-id="a8259-172">The possible values are __"Disabled"__, __"Push"__, and __"Pull"__.</span></span> <ul><li><span data-ttu-id="a8259-173">__Disabled__：DSC 配置对该节点禁用。</span><span class="sxs-lookup"><span data-stu-id="a8259-173">__Disabled__: DSC configurations are disabled for this node.</span></span></li><li> <span data-ttu-id="a8259-174">__Push__：通过调用 [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx) cmdlet 启动配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-174">__Push__: Configurations are initiated by calling the [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx) cmdlet.</span></span> <span data-ttu-id="a8259-175">将配置立即应用到节点。</span><span class="sxs-lookup"><span data-stu-id="a8259-175">The configuration is applied immediately to the node.</span></span> <span data-ttu-id="a8259-176">这是默认值。</span><span class="sxs-lookup"><span data-stu-id="a8259-176">This is the default value.</span></span></li><li><span data-ttu-id="a8259-177">__Pull：__将节点配置为从请求服务器定期检查配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-177">__Pull:__ The node is configured to regularly check for configurations from a pull server.</span></span> <span data-ttu-id="a8259-178">如果此属性被设置为 __Pull__，你必须在 __ConfigurationRepositoryWeb__ 或 __ConfigurationRepositoryShare__ 块中指定请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-178">If this property is set to __Pull__, you must specify a pull server in a __ConfigurationRepositoryWeb__ or __ConfigurationRepositoryShare__ block.</span></span> <span data-ttu-id="a8259-179">有关请求服务器的详细信息，请参阅[设置 DSC 请求服务器](pullServer.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-179">For more information about pull servers, see [Setting up a DSC pull server](pullServer.md).</span></span></li></ul>|  
| <span data-ttu-id="a8259-180">CertificateID</span><span class="sxs-lookup"><span data-stu-id="a8259-180">CertificateID</span></span>| <span data-ttu-id="a8259-181">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-181">string</span></span>| <span data-ttu-id="a8259-182">用于保护在配置中传递的凭据的证书指纹。</span><span class="sxs-lookup"><span data-stu-id="a8259-182">The thumbprint of a certificate used to secure credentials passed in a configuration.</span></span> <span data-ttu-id="a8259-183">更多详细信息，请参阅 [Want to secure credentials in Windows PowerShell Desired State Configuration?（希望在 Windows PowerShell Desired State Configuration 中保护凭据？）](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx)。</span><span class="sxs-lookup"><span data-stu-id="a8259-183">For more information see [Want to secure credentials in Windows PowerShell Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx)?.</span></span>| 
| <span data-ttu-id="a8259-184">ConfigurationID</span><span class="sxs-lookup"><span data-stu-id="a8259-184">ConfigurationID</span></span>| <span data-ttu-id="a8259-185">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-185">string</span></span>| <span data-ttu-id="a8259-186">用于标识请求模式下要从请求服务器获取的配置文件的 GUID。</span><span class="sxs-lookup"><span data-stu-id="a8259-186">A GUID that identifies the configuration file to get from a pull server in pull mode.</span></span> <span data-ttu-id="a8259-187">如果配置 MOF 名为 ConfigurationID.mof，那么节点将在拉取服务器上拉取配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-187">The node will pull configurations on the pull server if the name of the configuration MOF is named ConfigurationID.mof.</span></span><br> <span data-ttu-id="a8259-188">__注意：__如果设置此属性，将无法使用 __RegistryKey__ 将节点注册到请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-188">__Note:__ If you set this property, registering the node with a pull server by using __RegistrationKey__ does not work.</span></span> <span data-ttu-id="a8259-189">有关详细信息，请参阅[使用配置名称设置请求客户端](pullClientConfigNames.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-189">For more information, see [Setting up a pull client with configuration names](pullClientConfigNames.md).</span></span>| 
| <span data-ttu-id="a8259-190">RefreshFrequencyMins</span><span class="sxs-lookup"><span data-stu-id="a8259-190">RefreshFrequencyMins</span></span>| <span data-ttu-id="a8259-191">Uint32</span><span class="sxs-lookup"><span data-stu-id="a8259-191">Uint32</span></span>| <span data-ttu-id="a8259-192">LCM 按此时间间隔（以分钟为单位）检查请求服务器以获取更新的配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-192">The time interval, in minutes, at which the LCM checks a pull server to get updated configurations.</span></span> <span data-ttu-id="a8259-193">如果 LCM 未配置为请求模式，则将忽略此值。</span><span class="sxs-lookup"><span data-stu-id="a8259-193">This value is ignored if the LCM is not configured in pull mode.</span></span> <span data-ttu-id="a8259-194">默认值为 30。</span><span class="sxs-lookup"><span data-stu-id="a8259-194">The default value is 30.</span></span>| 
| <span data-ttu-id="a8259-195">AllowModuleOverwrite</span><span class="sxs-lookup"><span data-stu-id="a8259-195">AllowModuleOverwrite</span></span>| <span data-ttu-id="a8259-196">布尔</span><span class="sxs-lookup"><span data-stu-id="a8259-196">bool</span></span>| <span data-ttu-id="a8259-197">若允许从配置服务器下载的新配置覆盖目标节点上的旧配置，则为 __$TRUE__。</span><span class="sxs-lookup"><span data-stu-id="a8259-197">__$TRUE__ if new configurations downloaded from the configuration server are allowed to overwrite the old ones on the target node.</span></span> <span data-ttu-id="a8259-198">否则为 $FALSE。</span><span class="sxs-lookup"><span data-stu-id="a8259-198">Otherwise, $FALSE.</span></span>| 
| <span data-ttu-id="a8259-199">DebugMode</span><span class="sxs-lookup"><span data-stu-id="a8259-199">DebugMode</span></span>| <span data-ttu-id="a8259-200">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-200">string</span></span>| <span data-ttu-id="a8259-201">可取值为 __None__、__ForceModuleImport__ 和 __All__。</span><span class="sxs-lookup"><span data-stu-id="a8259-201">Possible values are __None__, __ForceModuleImport__, and __All__.</span></span> <ul><li><span data-ttu-id="a8259-202">设置为 __None__ 可以使用缓存的资源。</span><span class="sxs-lookup"><span data-stu-id="a8259-202">Set to __None__ to use cached resources.</span></span> <span data-ttu-id="a8259-203">这是默认值，应在生产方案中使用。</span><span class="sxs-lookup"><span data-stu-id="a8259-203">This is the default and should be used in production scenarios.</span></span></li><li><span data-ttu-id="a8259-204">设置为 __ForceModuleImport__ 会导致 LCM 重载所有 DSC 资源模块，即使这些模块之前已被加载并缓存，也是如此。</span><span class="sxs-lookup"><span data-stu-id="a8259-204">Setting to __ForceModuleImport__, causes the LCM to reload any DSC resource modules, even if they have been previously loaded and cached.</span></span> <span data-ttu-id="a8259-205">这会影响 DSC 操作的性能，因为将在使用时重新加载每个模块。</span><span class="sxs-lookup"><span data-stu-id="a8259-205">This impacts the performance of DSC operations as each module is reloaded on use.</span></span> <span data-ttu-id="a8259-206">通常在调试资源时使用此值</span><span class="sxs-lookup"><span data-stu-id="a8259-206">Typically you would use this value while debugging a resource</span></span></li><li><span data-ttu-id="a8259-207">在此版本中，__All__ 等同于 __ForceModuleImport__</span><span class="sxs-lookup"><span data-stu-id="a8259-207">In this release, __All__ is same as __ForceModuleImport__</span></span></li></ul> |
| <span data-ttu-id="a8259-208">ConfigurationDownloadManagers</span><span class="sxs-lookup"><span data-stu-id="a8259-208">ConfigurationDownloadManagers</span></span>| <span data-ttu-id="a8259-209">CimInstance[]</span><span class="sxs-lookup"><span data-stu-id="a8259-209">CimInstance[]</span></span>| <span data-ttu-id="a8259-210">已过时。</span><span class="sxs-lookup"><span data-stu-id="a8259-210">Obsolete.</span></span> <span data-ttu-id="a8259-211">使用 __ConfigurationRepositoryWeb__ 和 __ConfigurationRepositoryShare__ 块定义配置请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-211">Use __ConfigurationRepositoryWeb__ and __ConfigurationRepositoryShare__ blocks to define configuration pull servers.</span></span>| 
| <span data-ttu-id="a8259-212">ResourceModuleManagers</span><span class="sxs-lookup"><span data-stu-id="a8259-212">ResourceModuleManagers</span></span>| <span data-ttu-id="a8259-213">CimInstance[]</span><span class="sxs-lookup"><span data-stu-id="a8259-213">CimInstance[]</span></span>| <span data-ttu-id="a8259-214">已过时。</span><span class="sxs-lookup"><span data-stu-id="a8259-214">Obsolete.</span></span> <span data-ttu-id="a8259-215">使用 __ResourceRepositoryWeb__ 和 __ResourceRepositoryShare__ 块定义资源请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-215">Use __ResourceRepositoryWeb__ and __ResourceRepositoryShare__ blocks to define resource pull servers.</span></span>| 
| <span data-ttu-id="a8259-216">ReportManagers</span><span class="sxs-lookup"><span data-stu-id="a8259-216">ReportManagers</span></span>| <span data-ttu-id="a8259-217">CimInstance[]</span><span class="sxs-lookup"><span data-stu-id="a8259-217">CimInstance[]</span></span>| <span data-ttu-id="a8259-218">已过时。</span><span class="sxs-lookup"><span data-stu-id="a8259-218">Obsolete.</span></span> <span data-ttu-id="a8259-219">使用 __ReportServerWeb__ 块定义报表请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-219">Use __ReportServerWeb__ blocks to define report pull servers.</span></span>| 
| <span data-ttu-id="a8259-220">PartialConfigurations</span><span class="sxs-lookup"><span data-stu-id="a8259-220">PartialConfigurations</span></span>| <span data-ttu-id="a8259-221">CimInstance</span><span class="sxs-lookup"><span data-stu-id="a8259-221">CimInstance</span></span>| <span data-ttu-id="a8259-222">未实现。</span><span class="sxs-lookup"><span data-stu-id="a8259-222">Not implemented.</span></span> <span data-ttu-id="a8259-223">不使用。</span><span class="sxs-lookup"><span data-stu-id="a8259-223">Do not use.</span></span>| 
| <span data-ttu-id="a8259-224">StatusRetentionTimeInDays</span><span class="sxs-lookup"><span data-stu-id="a8259-224">StatusRetentionTimeInDays</span></span> | <span data-ttu-id="a8259-225">UInt32</span><span class="sxs-lookup"><span data-stu-id="a8259-225">UInt32</span></span>| <span data-ttu-id="a8259-226">LCM 保留当前配置状态的天数。</span><span class="sxs-lookup"><span data-stu-id="a8259-226">The number of days the LCM keeps the status of the current configuration.</span></span>| 

## <a name="pull-servers"></a><span data-ttu-id="a8259-227">请求服务器</span><span class="sxs-lookup"><span data-stu-id="a8259-227">Pull servers</span></span>

<span data-ttu-id="a8259-228">请求服务器是一个 OData Web 服务或作为 DSC 文件的中心位置使用的 SMB 共享。</span><span class="sxs-lookup"><span data-stu-id="a8259-228">A pull server is either an OData web service or an SMB share that is used as a central location for DSC files.</span></span> <span data-ttu-id="a8259-229">LCM 配置支持定义以下类型的请求服务器：</span><span class="sxs-lookup"><span data-stu-id="a8259-229">LCM configuration supports defining the following types of pull servers:</span></span>

* <span data-ttu-id="a8259-230">**配置服务器**：DSC 配置的存储库。</span><span class="sxs-lookup"><span data-stu-id="a8259-230">**Configuration server**: A repository for DSC configurations.</span></span> <span data-ttu-id="a8259-231">使用 **ConfigurationRepositoryWeb**（对于基于 Web 的服务器）和 **ConfigurationRepositoryShare**（对于基于 SMB 的服务器）块定义配置服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-231">Define configuration servers by using **ConfigurationRepositoryWeb** (for web-based servers) and **ConfigurationRepositoryShare** (for SMB-based servers) blocks.</span></span>
* <span data-ttu-id="a8259-232">资源服务器 - 打包为 PowerShell 模块的 DSC 资源存储库。</span><span class="sxs-lookup"><span data-stu-id="a8259-232">Resource server—A repository for DSC resources, packaged as PowerShell modules.</span></span> <span data-ttu-id="a8259-233">使用 **ResourceRepositoryWeb**（对于基于 Web 的服务器）和 **ResourceRepositoryShare**（对于基于 SMB 的服务器）块定义资源服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-233">Define resource servers by using **ResourceRepositoryWeb** (for web-based servers) and **ResourceRepositoryShare** (for SMB-based servers) blocks.</span></span>
* <span data-ttu-id="a8259-234">报表服务器 - DSC 将报表数据发送到的服务。</span><span class="sxs-lookup"><span data-stu-id="a8259-234">Report server—A service that DSC sends report data to.</span></span> <span data-ttu-id="a8259-235">使用 **ReportServerWeb** 块定义报表服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-235">Define report servers by using **ReportServerWeb** blocks.</span></span> <span data-ttu-id="a8259-236">报表服务器必须是 Web 服务。</span><span class="sxs-lookup"><span data-stu-id="a8259-236">A report server must be a web service.</span></span>

<span data-ttu-id="a8259-237">有关设置和使用请求服务器的信息，请参阅[设置 DSC 请求服务器](pullServer.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-237">For information about setting up and using pull servers, see [Setting up a DSC pull server](pullServer.md).</span></span>

## <a name="configuration-server-blocks"></a><span data-ttu-id="a8259-238">配置服务器块</span><span class="sxs-lookup"><span data-stu-id="a8259-238">Configuration server blocks</span></span>

<span data-ttu-id="a8259-239">若要定义基于 Web 的配置服务器，请创建 **ConfigurationRepositoryWeb** 块。</span><span class="sxs-lookup"><span data-stu-id="a8259-239">To define a web-based configuration server, you create a **ConfigurationRepositoryWeb** block.</span></span> <span data-ttu-id="a8259-240">**ConfigurationRepositoryWeb** 定义以下属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-240">A **ConfigurationRepositoryWeb** defines the following properties.</span></span>

|<span data-ttu-id="a8259-241">属性</span><span class="sxs-lookup"><span data-stu-id="a8259-241">Property</span></span>|<span data-ttu-id="a8259-242">类型</span><span class="sxs-lookup"><span data-stu-id="a8259-242">Type</span></span>|<span data-ttu-id="a8259-243">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-243">Description</span></span>|
|---|---|---| 
|<span data-ttu-id="a8259-244">AllowUnsecureConnection</span><span class="sxs-lookup"><span data-stu-id="a8259-244">AllowUnsecureConnection</span></span>|<span data-ttu-id="a8259-245">布尔</span><span class="sxs-lookup"><span data-stu-id="a8259-245">bool</span></span>|<span data-ttu-id="a8259-246">设置为 **$TRUE** 以允许无需身份验证即可从节点连接到服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-246">Set to **$TRUE** to allow connections from the node to the server without authentication.</span></span> <span data-ttu-id="a8259-247">设置为 **$FALSE** 以要求进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="a8259-247">Set to **$FALSE** to require authentication.</span></span>|
|<span data-ttu-id="a8259-248">CertificateID</span><span class="sxs-lookup"><span data-stu-id="a8259-248">CertificateID</span></span>|<span data-ttu-id="a8259-249">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-249">string</span></span>|<span data-ttu-id="a8259-250">用于向服务器进行身份验证的证书指纹。</span><span class="sxs-lookup"><span data-stu-id="a8259-250">The thumbprint of a certificate used to authenticate to the server.</span></span>|
|<span data-ttu-id="a8259-251">ConfigurationNames</span><span class="sxs-lookup"><span data-stu-id="a8259-251">ConfigurationNames</span></span>|<span data-ttu-id="a8259-252">string[]</span><span class="sxs-lookup"><span data-stu-id="a8259-252">String[]</span></span>|<span data-ttu-id="a8259-253">目标节点将请求的配置名称的数组。</span><span class="sxs-lookup"><span data-stu-id="a8259-253">An array of names of configurations to be pulled by the target node.</span></span> <span data-ttu-id="a8259-254">仅当通过 **RegistrationKey** 将节点注册到请求服务器后，才使用这些操作。</span><span class="sxs-lookup"><span data-stu-id="a8259-254">These are used only if the node is registered with the pull server by using a **RegistrationKey**.</span></span> <span data-ttu-id="a8259-255">有关详细信息，请参阅[使用配置名称设置请求客户端](pullClientConfigNames.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-255">For more information, see [Setting up a pull client with configuration names](pullClientConfigNames.md).</span></span>|
|<span data-ttu-id="a8259-256">RegistrationKey</span><span class="sxs-lookup"><span data-stu-id="a8259-256">RegistrationKey</span></span>|<span data-ttu-id="a8259-257">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-257">string</span></span>|<span data-ttu-id="a8259-258">用于将节点注册到请求服务器的 GUID。</span><span class="sxs-lookup"><span data-stu-id="a8259-258">A GUID that registers the node with the pull server.</span></span> <span data-ttu-id="a8259-259">有关详细信息，请参阅[使用配置名称设置请求客户端](pullClientConfigNames.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-259">For more information, see [Setting up a pull client with configuration names](pullClientConfigNames.md).</span></span>|
|<span data-ttu-id="a8259-260">ServerURL</span><span class="sxs-lookup"><span data-stu-id="a8259-260">ServerURL</span></span>|<span data-ttu-id="a8259-261">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-261">string</span></span>|<span data-ttu-id="a8259-262">配置服务器的 URL。</span><span class="sxs-lookup"><span data-stu-id="a8259-262">The URL of the configuration server.</span></span>|

<span data-ttu-id="a8259-263">要定义基于 SMB 的配置服务器，请创建 **ConfigurationRepositoryShare** 块。</span><span class="sxs-lookup"><span data-stu-id="a8259-263">To define an SMB-based configuration server, you create a **ConfigurationRepositoryShare** block.</span></span> <span data-ttu-id="a8259-264">**ConfigurationRepositoryShare** 定义以下属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-264">A **ConfigurationRepositoryShare** defines the following properties.</span></span>

|<span data-ttu-id="a8259-265">属性</span><span class="sxs-lookup"><span data-stu-id="a8259-265">Property</span></span>|<span data-ttu-id="a8259-266">类型</span><span class="sxs-lookup"><span data-stu-id="a8259-266">Type</span></span>|<span data-ttu-id="a8259-267">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-267">Description</span></span>|
|---|---|---|
|<span data-ttu-id="a8259-268">凭据</span><span class="sxs-lookup"><span data-stu-id="a8259-268">Credential</span></span>|<span data-ttu-id="a8259-269">MSFT_Credential</span><span class="sxs-lookup"><span data-stu-id="a8259-269">MSFT_Credential</span></span>|<span data-ttu-id="a8259-270">用于对 SMB 共享进行身份验证的凭据。</span><span class="sxs-lookup"><span data-stu-id="a8259-270">The credential used to authenticate to the SMB share.</span></span>|
|<span data-ttu-id="a8259-271">SourcePath</span><span class="sxs-lookup"><span data-stu-id="a8259-271">SourcePath</span></span>|<span data-ttu-id="a8259-272">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-272">string</span></span>|<span data-ttu-id="a8259-273">SMB 共享的路径。</span><span class="sxs-lookup"><span data-stu-id="a8259-273">The path of the SMB share.</span></span>|

## <a name="resource-server-blocks"></a><span data-ttu-id="a8259-274">资源服务器块</span><span class="sxs-lookup"><span data-stu-id="a8259-274">Resource server blocks</span></span>

<span data-ttu-id="a8259-275">若要定义基于 Web 的资源服务器，请创建 **ResourceRepositoryWeb** 块。</span><span class="sxs-lookup"><span data-stu-id="a8259-275">To define a web-based resource server, you create a **ResourceRepositoryWeb** block.</span></span> <span data-ttu-id="a8259-276">**ResourceRepositoryWeb** 定义以下属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-276">A **ResourceRepositoryWeb** defines the following properties.</span></span>

|<span data-ttu-id="a8259-277">属性</span><span class="sxs-lookup"><span data-stu-id="a8259-277">Property</span></span>|<span data-ttu-id="a8259-278">类型</span><span class="sxs-lookup"><span data-stu-id="a8259-278">Type</span></span>|<span data-ttu-id="a8259-279">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-279">Description</span></span>|
|---|---|---|
|<span data-ttu-id="a8259-280">AllowUnsecureConnection</span><span class="sxs-lookup"><span data-stu-id="a8259-280">AllowUnsecureConnection</span></span>|<span data-ttu-id="a8259-281">布尔</span><span class="sxs-lookup"><span data-stu-id="a8259-281">bool</span></span>|<span data-ttu-id="a8259-282">设置为 **$TRUE** 以允许无需身份验证即可从节点连接到服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-282">Set to **$TRUE** to allow connections from the node to the server without authentication.</span></span> <span data-ttu-id="a8259-283">设置为 **$FALSE** 以要求进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="a8259-283">Set to **$FALSE** to require authentication.</span></span>|
|<span data-ttu-id="a8259-284">CertificateID</span><span class="sxs-lookup"><span data-stu-id="a8259-284">CertificateID</span></span>|<span data-ttu-id="a8259-285">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-285">string</span></span>|<span data-ttu-id="a8259-286">用于向服务器进行身份验证的证书指纹。</span><span class="sxs-lookup"><span data-stu-id="a8259-286">The thumbprint of a certificate used to authenticate to the server.</span></span>|
|<span data-ttu-id="a8259-287">RegistrationKey</span><span class="sxs-lookup"><span data-stu-id="a8259-287">RegistrationKey</span></span>|<span data-ttu-id="a8259-288">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-288">string</span></span>|<span data-ttu-id="a8259-289">用于将节点标识到请求服务器的 GUID。</span><span class="sxs-lookup"><span data-stu-id="a8259-289">A GUID that identifies the node to the pull server.</span></span> <span data-ttu-id="a8259-290">有关详细信息，请参阅“如何将节点注册到 DSC 请求服务器”。</span><span class="sxs-lookup"><span data-stu-id="a8259-290">For more information, see How to register a node with a DSC pull server.</span></span>|
|<span data-ttu-id="a8259-291">ServerURL</span><span class="sxs-lookup"><span data-stu-id="a8259-291">ServerURL</span></span>|<span data-ttu-id="a8259-292">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-292">string</span></span>|<span data-ttu-id="a8259-293">配置服务器的 URL。</span><span class="sxs-lookup"><span data-stu-id="a8259-293">The URL of the configuration server.</span></span>|
 
<span data-ttu-id="a8259-294">若要定义的基于 SMB 的资源服务器，请创建 **ResourceRepositoryShare** 块。</span><span class="sxs-lookup"><span data-stu-id="a8259-294">To define an SMB-based resource server, you create a **ResourceRepositoryShare** block.</span></span> <span data-ttu-id="a8259-295">**ResourceRepositoryShare** 定义以下属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-295">**ResourceRepositoryShare** defines the following properties.</span></span>

|<span data-ttu-id="a8259-296">属性</span><span class="sxs-lookup"><span data-stu-id="a8259-296">Property</span></span>|<span data-ttu-id="a8259-297">类型</span><span class="sxs-lookup"><span data-stu-id="a8259-297">Type</span></span>|<span data-ttu-id="a8259-298">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-298">Description</span></span>|
|---|---|---|
|<span data-ttu-id="a8259-299">凭据</span><span class="sxs-lookup"><span data-stu-id="a8259-299">Credential</span></span>|<span data-ttu-id="a8259-300">MSFT_Credential</span><span class="sxs-lookup"><span data-stu-id="a8259-300">MSFT_Credential</span></span>|<span data-ttu-id="a8259-301">用于对 SMB 共享进行身份验证的凭据。</span><span class="sxs-lookup"><span data-stu-id="a8259-301">The credential used to authenticate to the SMB share.</span></span> <span data-ttu-id="a8259-302">有关传递凭据的示例，请参阅[设置 DSC SMB 请求服务器](pullServerSMB.md)</span><span class="sxs-lookup"><span data-stu-id="a8259-302">For an example of passing credentials, see [Setting up a DSC SMB pull server](pullServerSMB.md)</span></span>|
|<span data-ttu-id="a8259-303">SourcePath</span><span class="sxs-lookup"><span data-stu-id="a8259-303">SourcePath</span></span>|<span data-ttu-id="a8259-304">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-304">string</span></span>|<span data-ttu-id="a8259-305">SMB 共享的路径。</span><span class="sxs-lookup"><span data-stu-id="a8259-305">The path of the SMB share.</span></span>|

## <a name="report-server-blocks"></a><span data-ttu-id="a8259-306">报表服务器块</span><span class="sxs-lookup"><span data-stu-id="a8259-306">Report server blocks</span></span>

<span data-ttu-id="a8259-307">报表服务器必须是 OData Web 服务。</span><span class="sxs-lookup"><span data-stu-id="a8259-307">A report server must be an OData web service.</span></span> <span data-ttu-id="a8259-308">若要定义报表服务器，请创建 **ReportServerWeb** 块。</span><span class="sxs-lookup"><span data-stu-id="a8259-308">To define a report server, you create a **ReportServerWeb** block.</span></span> <span data-ttu-id="a8259-309">**ReportServerWeb** 定义以下属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-309">**ReportServerWeb** defines the following properties.</span></span>

|<span data-ttu-id="a8259-310">属性</span><span class="sxs-lookup"><span data-stu-id="a8259-310">Property</span></span>|<span data-ttu-id="a8259-311">类型</span><span class="sxs-lookup"><span data-stu-id="a8259-311">Type</span></span>|<span data-ttu-id="a8259-312">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-312">Description</span></span>|
|---|---|---|
|<span data-ttu-id="a8259-313">AllowUnsecureConnection</span><span class="sxs-lookup"><span data-stu-id="a8259-313">AllowUnsecureConnection</span></span>|<span data-ttu-id="a8259-314">布尔</span><span class="sxs-lookup"><span data-stu-id="a8259-314">bool</span></span>|<span data-ttu-id="a8259-315">设置为 **$TRUE** 以允许无需身份验证即可从节点连接到服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-315">Set to **$TRUE** to allow connections from the node to the server without authentication.</span></span> <span data-ttu-id="a8259-316">设置为 **$FALSE** 以要求进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="a8259-316">Set to **$FALSE** to require authentication.</span></span>|
|<span data-ttu-id="a8259-317">CertificateID</span><span class="sxs-lookup"><span data-stu-id="a8259-317">CertificateID</span></span>|<span data-ttu-id="a8259-318">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-318">string</span></span>|<span data-ttu-id="a8259-319">用于向服务器进行身份验证的证书指纹。</span><span class="sxs-lookup"><span data-stu-id="a8259-319">The thumbprint of a certificate used to authenticate to the server.</span></span>|
|<span data-ttu-id="a8259-320">RegistrationKey</span><span class="sxs-lookup"><span data-stu-id="a8259-320">RegistrationKey</span></span>|<span data-ttu-id="a8259-321">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-321">string</span></span>|<span data-ttu-id="a8259-322">用于将节点标识到请求服务器的 GUID。</span><span class="sxs-lookup"><span data-stu-id="a8259-322">A GUID that identifies the node to the pull server.</span></span> <span data-ttu-id="a8259-323">有关详细信息，请参阅“如何将节点注册到 DSC 请求服务器”。</span><span class="sxs-lookup"><span data-stu-id="a8259-323">For more information, see How to register a node with a DSC pull server.</span></span>|
|<span data-ttu-id="a8259-324">ServerURL</span><span class="sxs-lookup"><span data-stu-id="a8259-324">ServerURL</span></span>|<span data-ttu-id="a8259-325">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-325">string</span></span>|<span data-ttu-id="a8259-326">配置服务器的 URL。</span><span class="sxs-lookup"><span data-stu-id="a8259-326">The URL of the configuration server.</span></span>|

## <a name="partial-configurations"></a><span data-ttu-id="a8259-327">部分配置</span><span class="sxs-lookup"><span data-stu-id="a8259-327">Partial configurations</span></span>

<span data-ttu-id="a8259-328">若要定义部分配置，请创建 **PartialConfiguration** 块。</span><span class="sxs-lookup"><span data-stu-id="a8259-328">To define a partial configuration, you create a **PartialConfiguration** block.</span></span> <span data-ttu-id="a8259-329">有关部分配置的详细信息，请参阅 [DSC 部分配置](partialConfigs.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-329">For more information about partial configurations, see [DSC Partial configurations](partialConfigs.md).</span></span> <span data-ttu-id="a8259-330">**PartialConfiguration** 定义以下属性。</span><span class="sxs-lookup"><span data-stu-id="a8259-330">**PartialConfiguration** defines the following properties.</span></span>

|<span data-ttu-id="a8259-331">属性</span><span class="sxs-lookup"><span data-stu-id="a8259-331">Property</span></span>|<span data-ttu-id="a8259-332">类型</span><span class="sxs-lookup"><span data-stu-id="a8259-332">Type</span></span>|<span data-ttu-id="a8259-333">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-333">Description</span></span>|
|---|---|---| 
|<span data-ttu-id="a8259-334">ConfigurationSource</span><span class="sxs-lookup"><span data-stu-id="a8259-334">ConfigurationSource</span></span>|<span data-ttu-id="a8259-335">string[]</span><span class="sxs-lookup"><span data-stu-id="a8259-335">string[]</span></span>|<span data-ttu-id="a8259-336">以前在 ConfigurationRepositoryWeb 和 ConfigurationRepositoryShare 块中定义的配置服务器的名称数组，将从其中拉取部分配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-336">An array of names of configuration servers, previously defined in **ConfigurationRepositoryWeb** and **ConfigurationRepositoryShare** blocks, where the partial configuration is pulled from.</span></span>|
|<span data-ttu-id="a8259-337">DependsOn</span><span class="sxs-lookup"><span data-stu-id="a8259-337">DependsOn</span></span>|<span data-ttu-id="a8259-338">string{}</span><span class="sxs-lookup"><span data-stu-id="a8259-338">string{}</span></span>|<span data-ttu-id="a8259-339">应用此部分配置之前必须完成的其他配置名称的列表。</span><span class="sxs-lookup"><span data-stu-id="a8259-339">A list of names of other configurations that must be completed before this partial configuration is applied.</span></span>|
|<span data-ttu-id="a8259-340">说明</span><span class="sxs-lookup"><span data-stu-id="a8259-340">Description</span></span>|<span data-ttu-id="a8259-341">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-341">string</span></span>|<span data-ttu-id="a8259-342">用于描述部分配置的文本。</span><span class="sxs-lookup"><span data-stu-id="a8259-342">Text used to describe the partial configuration.</span></span>|
|<span data-ttu-id="a8259-343">ExclusiveResources</span><span class="sxs-lookup"><span data-stu-id="a8259-343">ExclusiveResources</span></span>|<span data-ttu-id="a8259-344">string[]</span><span class="sxs-lookup"><span data-stu-id="a8259-344">string[]</span></span>|<span data-ttu-id="a8259-345">此部分配置专用的资源数组。</span><span class="sxs-lookup"><span data-stu-id="a8259-345">An array of resources exclusive to this partial configuration.</span></span>|
|<span data-ttu-id="a8259-346">RefreshMode</span><span class="sxs-lookup"><span data-stu-id="a8259-346">RefreshMode</span></span>|<span data-ttu-id="a8259-347">字符串</span><span class="sxs-lookup"><span data-stu-id="a8259-347">string</span></span>|<span data-ttu-id="a8259-348">指定 LCM 如何获取此部分配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-348">Specifies how the LCM gets this partial configuration.</span></span> <span data-ttu-id="a8259-349">可取值为 __Disabled__、__Push__ 和 __Pull__。</span><span class="sxs-lookup"><span data-stu-id="a8259-349">The possible values are __"Disabled"__, __"Push"__, and __"Pull"__.</span></span> <ul><li><span data-ttu-id="a8259-350">__Disabled__：禁用此部分配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-350">__Disabled__: This partial configuration is disabled.</span></span></li><li> <span data-ttu-id="a8259-351">__Push__：通过调用 [Publish-DscConfiguration](https://technet.microsoft.com/en-us/library/mt517875.aspx) cmdlet 将部分配置推送到节点。</span><span class="sxs-lookup"><span data-stu-id="a8259-351">__Push__: The partial configuration is pushed to the node by calling the [Publish-DscConfiguration](https://technet.microsoft.com/en-us/library/mt517875.aspx) cmdlet.</span></span> <span data-ttu-id="a8259-352">从服务器推送或请求该节点的所有部分配置后，可以通过调用 `Start-DscConfiguration –UseExisting` 来启动配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-352">After all partial configurations for the node are either pushed or pulled from a server, the configuration can be started by calling `Start-DscConfiguration –UseExisting`.</span></span> <span data-ttu-id="a8259-353">这是默认值。</span><span class="sxs-lookup"><span data-stu-id="a8259-353">This is the default value.</span></span></li><li><span data-ttu-id="a8259-354">__Pull：__将节点配置为从请求服务器定期检查部分配置。</span><span class="sxs-lookup"><span data-stu-id="a8259-354">__Pull:__ The node is configured to regularly check for partial configuration from a pull server.</span></span> <span data-ttu-id="a8259-355">如果将此属性设置为 __Pull__，则必须在 __ConfigurationSource__ 属性中指定请求服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-355">If this property is set to __Pull__, you must specify a pull server in a __ConfigurationSource__ property.</span></span> <span data-ttu-id="a8259-356">有关请求服务器的详细信息，请参阅[设置 DSC 请求服务器](pullServer.md)。</span><span class="sxs-lookup"><span data-stu-id="a8259-356">For more information about pull servers, see [Setting up a DSC pull server](pullServer.md).</span></span></li></ul>|
|<span data-ttu-id="a8259-357">ResourceModuleSource</span><span class="sxs-lookup"><span data-stu-id="a8259-357">ResourceModuleSource</span></span>|<span data-ttu-id="a8259-358">string[]</span><span class="sxs-lookup"><span data-stu-id="a8259-358">string[]</span></span>|<span data-ttu-id="a8259-359">可从中下载此部分配置所需资源的资源服务器的名称数组。</span><span class="sxs-lookup"><span data-stu-id="a8259-359">An array of the names of resource servers from which to download required resources for this partial configuration.</span></span> <span data-ttu-id="a8259-360">这些名称必须表示之前在 **ResourceRepositoryWeb** 和 **ResourceRepositoryShare** 块中定义的资源服务器。</span><span class="sxs-lookup"><span data-stu-id="a8259-360">These names must refer to resource servers previously defined in **ResourceRepositoryWeb** and **ResourceRepositoryShare** blocks.</span></span>|

## <a name="see-also"></a><span data-ttu-id="a8259-361">另请参阅</span><span class="sxs-lookup"><span data-stu-id="a8259-361">See Also</span></span> 

### <a name="concepts"></a><span data-ttu-id="a8259-362">概念</span><span class="sxs-lookup"><span data-stu-id="a8259-362">Concepts</span></span>
[<span data-ttu-id="a8259-363">Windows PowerShell Desired State Configuration 概述</span><span class="sxs-lookup"><span data-stu-id="a8259-363">Windows PowerShell Desired State Configuration Overview</span></span>](overview.md)
 
[<span data-ttu-id="a8259-364">设置 DSC 请求服务器</span><span class="sxs-lookup"><span data-stu-id="a8259-364">Setting up a DSC pull server</span></span>](pullServer.md)

[<span data-ttu-id="a8259-365">Windows PowerShell 4.0 Desired State Configuration 本地配置管理器</span><span class="sxs-lookup"><span data-stu-id="a8259-365">Windows PowerShell 4.0 Desired State Configuration Local Configuration Manager</span></span>](metaConfig4.md)

### <a name="other-resources"></a><span data-ttu-id="a8259-366">其他资源</span><span class="sxs-lookup"><span data-stu-id="a8259-366">Other Resources</span></span>
[<span data-ttu-id="a8259-367">Set-DscLocalConfigurationManager</span><span class="sxs-lookup"><span data-stu-id="a8259-367">Set-DscLocalConfigurationManager</span></span>](https://technet.microsoft.com/en-us/library/dn521621.aspx)

[<span data-ttu-id="a8259-368">使用配置名称设置请求客户端</span><span class="sxs-lookup"><span data-stu-id="a8259-368">Setting up a pull client with configuration names</span></span>](pullClientConfigNames.md)

